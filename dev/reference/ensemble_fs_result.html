<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Ensemble Feature Selection Result — ensemble_fs_result • mlr3fselect</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Ensemble Feature Selection Result — ensemble_fs_result"><meta name="description" content="The EnsembleFSResult stores the results of ensemble feature selection.
It includes methods for evaluating the stability of the feature selection process and for ranking the selected features among others.
Both functions ensemble_fselect() and embedded_ensemble_fselect() return an object of this class."><meta property="og:description" content="The EnsembleFSResult stores the results of ensemble feature selection.
It includes methods for evaluating the stability of the feature selection process and for ranking the selected features among others.
Both functions ensemble_fselect() and embedded_ensemble_fselect() return an object of this class."><meta property="og:image" content="https://mlr3fselect.mlr-org.com/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3fselect</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3fselect/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Ensemble Feature Selection Result</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3fselect/blob/main/R/EnsembleFSResult.R" class="external-link"><code>R/EnsembleFSResult.R</code></a></small>
      <div class="d-none name"><code>ensemble_fs_result.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>EnsembleFSResult</code> stores the results of ensemble feature selection.
It includes methods for evaluating the stability of the feature selection process and for ranking the selected features among others.</p>
<p>Both functions <code><a href="ensemble_fselect.html">ensemble_fselect()</a></code> and <code><a href="embedded_ensemble_fselect.html">embedded_ensemble_fselect()</a></code> return an object of this class.</p>
    </div>


    <div class="section level2">
    <h2 id="s-methods">S3 Methods<a class="anchor" aria-label="anchor" href="#s-methods"></a></h2>


<ul><li><p><code>as.data.table.EnsembleFSResult(x, benchmark_result = TRUE)</code><br>
Returns a tabular view of the ensemble feature selection.<br>
EnsembleFSResult -&gt; <code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table()</a></code><br></p><ul><li><p><code>x</code> (EnsembleFSResult)</p></li>
<li><p><code>benchmark_result</code> (<code>logical(1)</code>)<br>
Whether to add the learner, task and resampling information from the benchmark result.</p></li>
</ul></li>
<li><p><code>c(...)</code><br>
(EnsembleFSResult, ...) -&gt; EnsembleFSResult<br>
Combines multiple EnsembleFSResult objects into a new EnsembleFSResult.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Das, I (1999).
“On characterizing the 'knee' of the Pareto curve based on normal-boundary intersection.”
<em>Structural Optimization</em>, <b>18</b>(1-2), 107–115.
ISSN 09344373.</p>
<p>Meinshausen, Nicolai, Buhlmann, Peter (2010).
“Stability Selection.”
<em>Journal of the Royal Statistical Society Series B: Statistical Methodology</em>, <b>72</b>(4), 417–473.
ISSN 1369-7412, <a href="https://doi.org/10.1111/J.1467-9868.2010.00740.X" class="external-link">doi:10.1111/J.1467-9868.2010.00740.X</a>
, 0809.2932.</p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>benchmark_result</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html" class="external-link">mlr3::BenchmarkResult</a>)<br>
The benchmark result.</p></dd>


<dt><code>man</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Manual page for this object.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>result</code></dt>
<dd><p>(<a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a>)<br>
Returns the result of the ensemble feature selection.</p></dd>


<dt><code>n_learners</code></dt>
<dd><p>(<code>numeric(1)</code>)<br>
Returns the number of learners used in the ensemble feature selection.</p></dd>


<dt><code>measure</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>)<br>
Returns the 'active' measure that is used in methods of this object.</p></dd>


<dt><code>active_measure</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Indicates the type of the active performance measure.</p>
<p>During the ensemble feature selection process, the dataset is split into <strong>multiple subsamples</strong> (train/test splits) using an initial resampling scheme.
So, performance can be evaluated using one of two measures:</p><ul><li><p><code>"outer"</code>: measure used to evaluate the performance on the test sets.</p></li>
<li><p><code>"inner"</code>: measure used for optimization and to compute performance during inner resampling on the training sets.</p></li>
</ul></dd>


<dt><code>n_resamples</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Returns the number of times the task was initially resampled in the ensemble feature selection process.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-EnsembleFSResult-new"><code>EnsembleFSResult$new()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-format"><code>EnsembleFSResult$format()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-print"><code>EnsembleFSResult$print()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-help"><code>EnsembleFSResult$help()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-set_active_measure"><code>EnsembleFSResult$set_active_measure()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-combine"><code>EnsembleFSResult$combine()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-feature_ranking"><code>EnsembleFSResult$feature_ranking()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-stability"><code>EnsembleFSResult$stability()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-pareto_front"><code>EnsembleFSResult$pareto_front()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-knee_points"><code>EnsembleFSResult$knee_points()</code></a></p></li>
<li><p><a href="#method-EnsembleFSResult-clone"><code>EnsembleFSResult$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-EnsembleFSResult-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/ensemble_fs_result.html">EnsembleFSResult</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">result</span>,</span>
<span>  <span class="va">features</span>,</span>
<span>  benchmark_result <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">measure</span>,</span>
<span>  inner_measure <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>result</code></dt>
<dd><p>(<a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a>)<br>
The result of the ensemble feature selection.
Mandatory column names should include <code>"resampling_iteration"</code>, <code>"learner_id"</code>,
<code>"features"</code> and <code>"n_features"</code>.
A column named as <code>{measure$id}</code> (scores on the test sets) must also be
always present.
The column with the performance scores on the inner resampling of the train sets is not mandatory,
but note that it should be named as <code>{inner_measure$id}_inner</code> to distinguish from
the <code>{measure$id}</code>.</p></dd>


<dt><code>features</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>)<br>
The vector of features of the task that was used in the ensemble feature
selection.</p></dd>


<dt><code>benchmark_result</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html" class="external-link">mlr3::BenchmarkResult</a>)<br>
The benchmark result object.</p></dd>


<dt><code>measure</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>)<br>
The performance measure used to evaluate the learners on the test sets generated
during the ensemble feature selection process.
By default, this serves as the 'active' measure for the methods of this object.
The active measure can be updated using the <code>$set_active_measure()</code> method.</p></dd>


<dt><code>inner_measure</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>)<br>
The performance measure used to optimize and evaluate the learners during the inner resampling process of the training sets, generated as part of the ensemble feature selection procedure.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Helper for print outputs.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Printer.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-help"></a><div class="section">
<h3 id="method-help-">Method <code><a href="https://rdrr.io/r/utils/help.html" class="external-link">help()</a></code><a class="anchor" aria-label="anchor" href="#method-help-"></a></h3>
<p>Opens the corresponding help page referenced by field <code>$man</code>.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">help</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EnsembleFSResult-set_active_measure"></a><div class="section">
<h3 id="method-set-active-measure-">Method <code>set_active_measure()</code><a class="anchor" aria-label="anchor" href="#method-set-active-measure-"></a></h3>
<p>Use this function to change the active measure.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">set_active_measure</span><span class="op">(</span>which <span class="op">=</span> <span class="st">"outer"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>which</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Which <a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">measure</a> from the ensemble feature selection result
to use in methods of this object.
Should be either <code>"inner"</code> (optimization measure used in training sets)
or <code>"outer"</code> (measure used in test sets, default value).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-combine"></a><div class="section">
<h3 id="method-combine-">Method <code>combine()</code><a class="anchor" aria-label="anchor" href="#method-combine-"></a></h3>
<p>Combines a second EnsembleFSResult into the current object, modifying it <strong>in-place</strong>.
If the second EnsembleFSResult (<code>efsr</code>) is <code>NULL</code>, the method returns the object unmodified.</p>
<p>Both objects must have the same task features and <code>measure</code>.
If the <code>inner_measure</code> differs between the objects or is <code>NULL</code> in either, it will be set to <code>NULL</code> in the combined object.
Additionally, the <code>importance</code> column will be removed if it is missing in either object.
If both objects contain a <code>benchmark_result</code>, these will be combined.
Otherwise, the combined object will have a <code>NULL</code> value for <code>benchmark_result</code>.</p>
<p>This method modifies the object by reference.
To preserve the original state, explicitly <code>$clone()</code> the object beforehand.
Alternatively, you can use the <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> function, which internally calls this method.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">combine</span><span class="op">(</span><span class="va">efsr</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>efsr</code></dt>
<dd><p>(EnsembleFSResult)<br>
A second EnsembleFSResult object to combine with the current object.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Returns the object itself, but modified <strong>by reference</strong>.</p>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-feature_ranking"></a><div class="section">
<h3 id="method-feature-ranking-">Method <code>feature_ranking()</code><a class="anchor" aria-label="anchor" href="#method-feature-ranking-"></a></h3>
<p>Calculates the feature ranking via <code><a href="https://bblodfon.github.io/fastVoteR/reference/rank_candidates.html" class="external-link">fastVoteR::rank_candidates()</a></code>.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">feature_ranking</span><span class="op">(</span></span>
<span>  method <span class="op">=</span> <span class="st">"av"</span>,</span>
<span>  use_weights <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  committee_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shuffle_features <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>method</code></dt>
<dd><p>(<code>character(1)</code>)<br>
The method to calculate the feature ranking. See <code><a href="https://bblodfon.github.io/fastVoteR/reference/rank_candidates.html" class="external-link">fastVoteR::rank_candidates()</a></code>
for a complete list of available methods.
Approval voting (<code>"av"</code>) is the default method.</p></dd>


<dt><code>use_weights</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
The default value (<code>TRUE</code>) uses weights equal to the performance scores
of each voter/model (or the inverse scores if the measure is minimized).
If <code>FALSE</code>, we treat all voters as equal and assign them all a weight equal to 1.</p></dd>


<dt><code>committee_size</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Number of top selected features in the output ranking.
This parameter can be used to speed-up methods that build a committee sequentially
(<code>"seq_pav"</code>), by requesting only the top N selected candidates/features
and not the complete feature ranking.</p></dd>


<dt><code>shuffle_features</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Whether to shuffle the task features randomly before computing the ranking.
Shuffling ensures consistent random tie-breaking across methods and prevents
deterministic biases when features with equal scores are encountered.
Default is <code>TRUE</code> and it's advised to set a seed before running this function.
Set to <code>FALSE</code> if deterministic ordering of features is preferred (same as
during initialization).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>The feature ranking process is built on the following framework: models act as <em>voters</em>, features act as <em>candidates</em>, and voters select certain candidates (features).
The primary objective is to compile these selections into a consensus ranked list of features, effectively forming a committee.</p>
<p>For every feature a score is calculated, which depends on the <code>"method"</code> argument.
The higher the score, the higher the ranking of the feature.
Note that some methods output a feature ranking instead of a score per feature, so we always include <strong>Borda's score</strong>, which is method-agnostic, i.e. it can be used to compare the feature rankings across different methods.</p>
<p>We shuffle the input candidates/features so that we enforce random tie-breaking.
Users should set the same <code>seed</code> for consistent comparison between the different feature ranking methods and for reproducibility.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A <a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a> listing all the features, ordered by decreasing scores (depends on the <code>"method"</code>). Columns are as follows:</p><ul><li><p><code>"feature"</code>: Feature names.</p></li>
<li><p><code>"score"</code>: Scores assigned to each feature based on the selected method (if applicable).</p></li>
<li><p><code>"norm_score"</code>: Normalized scores (if applicable), scaled to the range \([0,1]\), which can be loosely interpreted as <strong>selection probabilities</strong> (Meinshausen et al. (2010)).</p></li>
<li><p><code>"borda_score"</code>: Borda scores for method-agnostic comparison, ranging in \([0,1]\), where the top feature receives a score of 1 and the lowest-ranked feature receives a score of 0.
This column is always included so that feature ranking methods that output only rankings have also a feature-wise score.</p></li>
</ul></div>

</div><p></p><hr><a id="method-EnsembleFSResult-stability"></a><div class="section">
<h3 id="method-stability-">Method <code>stability()</code><a class="anchor" aria-label="anchor" href="#method-stability-"></a></h3>
<p>Calculates the stability of the selected features with the <a href="https://CRAN.R-project.org/package=stabm" class="external-link"><span class="pkg">stabm</span></a> package.
The results are cached.
When the same stability measure is requested again with different arguments, the cache must be reset.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">stability</span><span class="op">(</span></span>
<span>  stability_measure <span class="op">=</span> <span class="st">"jaccard"</span>,</span>
<span>  stability_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  global <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reset_cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>stability_measure</code></dt>
<dd><p>(<code>character(1)</code>)<br>
The stability measure to be used.
One of the measures returned by <code><a href="https://bommert.github.io/stabm/reference/listStabilityMeasures.html" class="external-link">stabm::listStabilityMeasures()</a></code> in lower case.
Default is <code>"jaccard"</code>.</p></dd>


<dt><code>stability_args</code></dt>
<dd><p>(<code>list</code>)<br>
Additional arguments passed to the stability measure function.</p></dd>


<dt><code>global</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Whether to calculate the stability globally or for each learner.</p></dd>


<dt><code>reset_cache</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code>, the cached results are ignored.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>A <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code> value representing the stability of the selected features.
Or a <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code> vector with the stability of the selected features for each learner.</p>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-pareto_front"></a><div class="section">
<h3 id="method-pareto-front-">Method <code>pareto_front()</code><a class="anchor" aria-label="anchor" href="#method-pareto-front-"></a></h3>
<p>This function identifies the <strong>Pareto front</strong> of the ensemble feature
selection process, i.e., the set of points that represent the trade-off
between the number of features and performance (e.g. classification error).</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">pareto_front</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"empirical"</span>, max_nfeatures <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>type</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Specifies the type of Pareto front to return. See details.</p></dd>


<dt><code>max_nfeatures</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Specifies the maximum number of features for which the estimated Pareto
front is computed. Applicable only when <code>type = "estimated"</code>.
If <code>NULL</code> (default), the maximum number of features
is determined by the ensemble feature selection process.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Two options are available for the Pareto front:</p><ul><li><p><code>"empirical"</code> (default): returns the empirical Pareto front.</p></li>
<li><p><code>"estimated"</code>: the Pareto front points are estimated by fitting a linear model with the inversed of the number of features (\(1/x\)) as input and the associated performance scores as output.</p></li>
</ul><p>This method is useful when the Pareto points are sparse and the front assumes a convex shape if better performance corresponds to lower measure values (e.g. classification error), or a concave shape otherwise (e.g. classification accuracy).</p>
<p>When <code>type = "estimated"</code>, the estimated Pareto front includes points with the number of features ranging from 1 up to <code>max_nfeatures</code>.
If <code>max_nfeatures</code> is not provided, it defaults to the maximum number of features available in the ensemble feature selection <code>result</code>, i.e. the maximum out of all learners and resamplings included.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A <a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a> with columns the number of features and the performance that together form the Pareto front.</p>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-knee_points"></a><div class="section">
<h3 id="method-knee-points-">Method <code>knee_points()</code><a class="anchor" aria-label="anchor" href="#method-knee-points-"></a></h3>
<p>This function implements various <em>knee</em> point identification (KPI) methods, which select points in the Pareto front, such that an optimal trade-off between performance and number of features is achieved.
In most cases, only one such point is returned.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">knee_points</span><span class="op">(</span></span>
<span>  method <span class="op">=</span> <span class="st">"NBI"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"empirical"</span>,</span>
<span>  max_nfeatures <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>method</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Type of method to use to identify the knee point.</p></dd>


<dt><code>type</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Specifies the type of Pareto front to use for the identification of the knee point.</p></dd>


<dt><code>max_nfeatures</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Specifies the maximum number of features for which the estimated Pareto
front is computed. Applicable only when <code>type = "estimated"</code>.
If <code>NULL</code> (default), the maximum number of features
is determined by the ensemble feature selection process.
See <code>pareto_front()</code> method for more details.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>The available KPI methods are:</p><ul><li><p><code>"NBI"</code> (default): The <strong>Normal-Boundary Intersection</strong> method is a geometry-based method which calculates the perpendicular distance of each point from the line connecting the first and last points of the Pareto front.
The knee point is determined as the Pareto point with the maximum distance from this line, see Das (1999).</p></li>
</ul></div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A <a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a> with the knee point(s) of the Pareto front.</p>
</div>

</div><p></p><hr><a id="method-EnsembleFSResult-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">EnsembleFSResult</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span> <span class="op">=</span> <span class="fu"><a href="ensemble_fselect.html">ensemble_fselect</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    fselector <span class="op">=</span> <span class="fu"><a href="fs.html">fs</a></span><span class="op">(</span><span class="st">"rfe"</span>, n_features <span class="op">=</span> <span class="fl">2</span>, feature_fraction <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    task <span class="op">=</span> <span class="fu">tsk</span><span class="op">(</span><span class="st">"sonar"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    learners <span class="op">=</span> <span class="fu">lrns</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"classif.rpart"</span>, <span class="st">"classif.featureless"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    init_resampling <span class="op">=</span> <span class="fu">rsmp</span><span class="op">(</span><span class="st">"subsampling"</span>, repeats <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    inner_resampling <span class="op">=</span> <span class="fu">rsmp</span><span class="op">(</span><span class="st">"cv"</span>, folds <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    inner_measure <span class="op">=</span> <span class="fu">msr</span><span class="op">(</span><span class="st">"classif.ce"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    measure <span class="op">=</span> <span class="fu">msr</span><span class="op">(</span><span class="st">"classif.acc"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    terminator <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/trm.html" class="external-link">trm</a></span><span class="op">(</span><span class="st">"none"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># contains the benchmark result</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="va">benchmark_result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="color: #0000BB; font-weight: bold;">&lt;BenchmarkResult&gt;</span><span style="font-weight: bold;"> of </span><span style="color: #0000BB; font-weight: bold;">4</span><span style="font-weight: bold;"> rows with </span><span style="color: #0000BB; font-weight: bold;">2</span><span style="font-weight: bold;"> resampling run</span> <span style="color: #00BBBB;">───────────────────────────</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  nr task_id                    learner_id resampling_id iters warnings errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1   sonar       classif.rpart.fselector   subsampling     2        0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2   sonar classif.featureless.fselector   subsampling     2        0      0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># contains the selected features for each iteration</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       learner_id resampling_iteration classif.acc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           &lt;char&gt;                &lt;int&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       classif.rpart.fselector                    1   0.6956522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       classif.rpart.fselector                    2   0.6666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: classif.featureless.fselector                    1   0.5217391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: classif.featureless.fselector                    2   0.5507246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       features n_features classif.ce_inner</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         &lt;list&gt;      &lt;int&gt;            &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: V10,V11,V12,V13,V18,V23,...         15        0.2368178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      V10,V11,V12,V13,V17,V9          6        0.2155412</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                     V18,V21          2        0.5755473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:                     V20,V34          2        0.5325316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                   importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                       &lt;list&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 14.33333,14.00000,12.33333,12.00000,11.00000, 9.00000,...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     5.666667,5.333333,3.666667,2.666667,2.000000,1.666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                                         1.666667,1.333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:                                                       2,1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   task                                       learner</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 &lt;list&gt;                                        &lt;list&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: &lt;TaskClassif:sonar&gt;       &lt;AutoFSelector:classif.rpart.fselector&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: &lt;TaskClassif:sonar&gt;       &lt;AutoFSelector:classif.rpart.fselector&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: &lt;TaskClassif:sonar&gt; &lt;AutoFSelector:classif.featureless.fselector&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: &lt;TaskClassif:sonar&gt; &lt;AutoFSelector:classif.featureless.fselector&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 resampling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     &lt;list&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: &lt;ResamplingSubsampling&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: &lt;ResamplingSubsampling&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: &lt;ResamplingSubsampling&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: &lt;ResamplingSubsampling&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># returns the stability of the selected features</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="fu">stability</span><span class="op">(</span>stability_measure <span class="op">=</span> <span class="st">"jaccard"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0625</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># returns a ranking of all features</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">efsr</span><span class="op">$</span><span class="fu">feature_ranking</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required namespace: fastVoteR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    feature    score norm_score borda_score</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;char&gt;    &lt;num&gt;      &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     V11 1.362319  0.5595238   1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     V10 1.362319  0.5595238   0.9830508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     V12 1.362319  0.5595238   0.9661017</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     V13 1.362319  0.5595238   0.9491525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:      V9 1.362319  0.5595238   0.9322034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     V18 1.217391  0.5000000   0.9152542</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># returns the empirical pareto front, i.e. n_features vs measure (error)</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="fu">pareto_front</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n_features classif.acc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:          2   0.5217391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:          2   0.5507246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:          6   0.6666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:         15   0.6956522</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># returns the knee points (optimal trade-off between n_features and performance)</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="fu">knee_points</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n_features classif.acc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:          6   0.6666667</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># change to use the inner optimization measure</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="fu">set_active_measure</span><span class="op">(</span>which <span class="op">=</span> <span class="st">"inner"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Pareto front is calculated on the inner measure</span></span></span>
<span class="r-in"><span>  <span class="va">efsr</span><span class="op">$</span><span class="fu">pareto_front</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n_features classif.ce_inner</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;            &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:          2        0.5755473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:          2        0.5325316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:          6        0.2155412</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marc Becker, Patrick Schratz, Michel Lang, Bernd Bischl, John Zobolas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

