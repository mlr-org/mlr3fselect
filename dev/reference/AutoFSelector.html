<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The AutoFSelector wraps a mlr3::Learner and augments it with an automatic feature selection.
The auto_fselector() function creates an AutoFSelector object."><title>AutoFSelector — AutoFSelector • mlr3fselect</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.2/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.2/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="AutoFSelector — AutoFSelector"><meta property="og:description" content="The AutoFSelector wraps a mlr3::Learner and augments it with an automatic feature selection.
The auto_fselector() function creates an AutoFSelector object."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mlr3fselect</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/mlr3fselect/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>AutoFSelector</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3fselect/blob/HEAD/R/AutoFSelector.R" class="external-link"><code>R/AutoFSelector.R</code></a></small>
      <div class="d-none name"><code>AutoFSelector.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The AutoFSelector wraps a <a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a> and augments it with an automatic feature selection.
The <code><a href="auto_fselector.html">auto_fselector()</a></code> function creates an AutoFSelector object.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The AutoFSelector is a <a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a> which wraps another <a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a> and performs the following steps during <code>$train()</code>:</p><ol><li><p>The wrapped (inner) learner is trained on the feature subsets via resampling.
The feature selection can be specified by providing a <a href="FSelector.html">FSelector</a>, a <a href="https://bbotk.mlr-org.com/reference/Terminator.html" class="external-link">bbotk::Terminator</a>, a <a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link">mlr3::Resampling</a> and a <a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>.</p></li>
<li><p>A final model is fit on the complete training data with the best found feature subset.</p></li>
</ol><p>During <code>$predict()</code> the AutoFSelector just calls the predict method of the wrapped (inner) learner.</p>
    </div>
    <div class="section level2">
    <h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
    

<ul><li><p><a href="https://mlr3book.mlr-org.com/feature-selection.html#autofselect" class="external-link">book chapter</a> on automatic feature selection.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="nested-resampling">Nested Resampling<a class="anchor" aria-label="anchor" href="#nested-resampling"></a></h2>
    

<p>Nested resampling can be performed by passing an AutoFSelector object to <code><a href="https://mlr3.mlr-org.com/reference/resample.html" class="external-link">mlr3::resample()</a></code> or <code><a href="https://mlr3.mlr-org.com/reference/benchmark.html" class="external-link">mlr3::benchmark()</a></code>.
To access the inner resampling results, set <code>store_fselect_instance = TRUE</code> and execute <code><a href="https://mlr3.mlr-org.com/reference/resample.html" class="external-link">mlr3::resample()</a></code> or <code><a href="https://mlr3.mlr-org.com/reference/benchmark.html" class="external-link">mlr3::benchmark()</a></code> with <code>store_models = TRUE</code> (see examples).
The <a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link">mlr3::Resampling</a> passed to the AutoFSelector is meant to be the inner resampling, operating on the training set of an arbitrary outer resampling.
For this reason it is not feasible to pass an instantiated <a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link">mlr3::Resampling</a> here.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a></code> -&gt; <code>AutoFSelector</code></p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>instance_args</code></dt>
<dd><p>(<code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>)<br>
All arguments from construction to create the <a href="FSelectInstanceSingleCrit.html">FSelectInstanceSingleCrit</a>.</p></dd>


<dt><code>fselector</code></dt>
<dd><p>(<a href="FSelector.html">FSelector</a>)<br>
Optimization algorithm.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>archive</code></dt>
<dd><p>([ArchiveFSelect)<br>
Returns <a href="FSelectInstanceSingleCrit.html">FSelectInstanceSingleCrit</a> archive.</p></dd>


<dt><code>learner</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a>)<br>
Trained learner.</p></dd>


<dt><code>fselect_instance</code></dt>
<dd><p>(<a href="FSelectInstanceSingleCrit.html">FSelectInstanceSingleCrit</a>)<br>
Internally created feature selection instance with all intermediate results.</p></dd>


<dt><code>fselect_result</code></dt>
<dd><p>(<a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table::data.table</a>)<br>
Short-cut to <code>$result</code> from <a href="FSelectInstanceSingleCrit.html">FSelectInstanceSingleCrit</a>.</p></dd>


<dt><code>predict_type</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Stores the currently active predict type, e.g. <code>"response"</code>.
Must be an element of <code>$predict_types</code>.</p></dd>


<dt><code>hash</code></dt>
<dd><p>(<code>character(1)</code>)<br>
Hash (unique identifier) for this object.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-AutoFSelector-new"><code>AutoFSelector$new()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-base_learner"><code>AutoFSelector$base_learner()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-importance"><code>AutoFSelector$importance()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-selected_features"><code>AutoFSelector$selected_features()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-oob_error"><code>AutoFSelector$oob_error()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-loglik"><code>AutoFSelector$loglik()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-print"><code>AutoFSelector$print()</code></a></p></li>
<li><p><a href="#method-AutoFSelector-clone"><code>AutoFSelector$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="format"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-format"><code>mlr3::Learner$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="help"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-help"><code>mlr3::Learner$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="predict"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-predict"><code>mlr3::Learner$predict()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="predict_newdata"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-predict_newdata"><code>mlr3::Learner$predict_newdata()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="reset"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-reset"><code>mlr3::Learner$reset()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Learner" data-id="train"><a href="https://mlr3.mlr-org.com/reference/Learner.html#method-train"><code>mlr3::Learner$train()</code></a></span></li>
</ul></details></p><hr><a id="method-AutoFSelector-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/AutoFSelector.html">AutoFSelector</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">learner</span>,</span>
<span>  <span class="va">resampling</span>,</span>
<span>  measure <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">terminator</span>,</span>
<span>  <span class="va">fselector</span>,</span>
<span>  store_fselect_instance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  store_benchmark_result <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  store_models <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_values <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>learner</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a>)<br>
Learner to optimize the feature subset for.</p></dd>


<dt><code>resampling</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link">mlr3::Resampling</a>)<br>
Resampling that is used to evaluated the performance of the feature subsets.
Uninstantiated resamplings are instantiated during construction so that all feature subsets are evaluated on the same data splits.
Already instantiated resamplings are kept unchanged.</p></dd>


<dt><code>measure</code></dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a>)<br>
Measure to optimize. If <code>NULL</code>, default measure is used.</p></dd>


<dt><code>terminator</code></dt>
<dd><p>(Terminator)<br>
Stop criterion of the feature selection.</p></dd>


<dt><code>fselector</code></dt>
<dd><p>(<a href="FSelector.html">FSelector</a>)<br>
Optimization algorithm.</p></dd>


<dt><code>store_fselect_instance</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
If <code>TRUE</code> (default), stores the internally created <a href="FSelectInstanceSingleCrit.html">FSelectInstanceSingleCrit</a> with all intermediate results in slot <code>$fselect_instance</code>.
Is set to <code>TRUE</code>, if <code>store_models = TRUE</code></p></dd>


<dt><code>store_benchmark_result</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Store benchmark result in archive?</p></dd>


<dt><code>store_models</code></dt>
<dd><p>(<code>logical(1)</code>).
Store models in benchmark result?</p></dd>


<dt><code>check_values</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Check the parameters before the evaluation and the results for
validity?</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AutoFSelector-base_learner"></a><div class="section">
<h3 id="method-base-learner-">Method <code>base_learner()</code><a class="anchor" aria-label="anchor" href="#method-base-learner-"></a></h3>
<p>Extracts the base learner from nested learner objects like <code>GraphLearner</code> in <a href="https://CRAN.R-project.org/package=mlr3pipelines" class="external-link"><span class="pkg">mlr3pipelines</span></a>.
If <code>recursive = 0</code>, the (tuned) learner is returned.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">base_learner</span><span class="op">(</span>recursive <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>recursive</code></dt>
<dd><p>(<code>integer(1)</code>)<br>
Depth of recursion for multiple nested objects.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p><a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">Learner</a>.</p>
</div>

</div><p></p><hr><a id="method-AutoFSelector-importance"></a><div class="section">
<h3 id="method-importance-">Method <code>importance()</code><a class="anchor" aria-label="anchor" href="#method-importance-"></a></h3>
<p>The importance scores of the final model.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">importance</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Named <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>.</p>
</div>

</div><p></p><hr><a id="method-AutoFSelector-selected_features"></a><div class="section">
<h3 id="method-selected-features-">Method <code>selected_features()</code><a class="anchor" aria-label="anchor" href="#method-selected-features-"></a></h3>
<p>The selected features of the final model.
These features are selected internally by the learner.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">selected_features</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>.</p>
</div>

</div><p></p><hr><a id="method-AutoFSelector-oob_error"></a><div class="section">
<h3 id="method-oob-error-">Method <code>oob_error()</code><a class="anchor" aria-label="anchor" href="#method-oob-error-"></a></h3>
<p>The out-of-bag error of the final model.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">oob_error</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>numeric(1)</code>.</p>
</div>

</div><p></p><hr><a id="method-AutoFSelector-loglik"></a><div class="section">
<h3 id="method-loglik-">Method <code>loglik()</code><a class="anchor" aria-label="anchor" href="#method-loglik-"></a></h3>
<p>The log-likelihood of the final model.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">loglik</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p><code>logLik</code>.
Printer.</p>
</div>

</div><p></p><hr><a id="method-AutoFSelector-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>

<div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>(ignored).</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-AutoFSelector-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">AutoFSelector</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Automafsic Feafsure Selection</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsk</a></span><span class="op">(</span><span class="st">"penguins"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">train_set</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span>, <span class="fl">0.8</span> <span class="op">*</span> <span class="va">task</span><span class="op">$</span><span class="va">nrow</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test_set</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">task</span><span class="op">$</span><span class="va">nrow</span><span class="op">)</span>, <span class="va">train_set</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">afs</span> <span class="op">=</span> <span class="fu"><a href="auto_fselector.html">auto_fselector</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="fu"><a href="fs.html">fs</a></span><span class="op">(</span><span class="st">"random_search"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  learner <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrn</a></span><span class="op">(</span><span class="st">"classif.rpart"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  resampling <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span> <span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  measure <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"classif.ce"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  term_evals <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># optimize feafsure subset and fit final model</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="fu">train</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">train_set</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># predict with final model</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">test_set</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;PredictionClassif&gt; for 69 observations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     row_ids     truth  response</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           1    Adelie    Adelie</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          11    Adelie    Adelie</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          12    Adelie    Adelie</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         324 Chinstrap Chinstrap</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         336 Chinstrap Chinstrap</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         337 Chinstrap Chinstrap</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># show fselect result</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="va">fselect_result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    bill_depth bill_length body_mass flipper_length island  sex year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       TRUE        TRUE      TRUE           TRUE   TRUE TRUE TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                          features classif.ce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: bill_depth,bill_length,body_mass,flipper_length,island,sex,... 0.06521739</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># model slot contains trained learner and fselect instance</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="va">model</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $learner</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;LearnerClassifRpart:classif.rpart&gt;: Classification Tree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Model: rpart</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Parameters: xval=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Packages: mlr3, rpart</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Predict Types:  [response], prob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Feature Types: logical, integer, numeric, factor, ordered</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Properties: importance, missings, multiclass, selected_features,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   twoclass, weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "bill_depth"     "bill_length"    "body_mass"      "flipper_length"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "island"         "sex"            "year"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fselect_instance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;FSelectInstanceSingleCrit&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * State:  Optimized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Objective: &lt;ObjectiveFSelect:classif.rpart_on_penguins&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Search Space:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                id    class lower upper nlevels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     bill_depth ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:    bill_length ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      body_mass ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: flipper_length ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:         island ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:            sex ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:           year ParamLgl    NA    NA       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Terminator: &lt;TerminatorEvals&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Result:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    bill_depth bill_length body_mass flipper_length island  sex year classif.ce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       TRUE        TRUE      TRUE           TRUE   TRUE TRUE TRUE 0.06521739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Archive:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    bill_depth bill_length body_mass flipper_length island   sex  year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       TRUE        TRUE      TRUE           TRUE   TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      FALSE        TRUE      TRUE          FALSE   TRUE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       TRUE        TRUE      TRUE           TRUE   TRUE  TRUE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:      FALSE       FALSE     FALSE           TRUE  FALSE  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    classif.ce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 0.06521739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 0.06521739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 0.06521739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 0.18478261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># shortcut trained learner</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="va">learner</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;LearnerClassifRpart:classif.rpart&gt;: Classification Tree</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Model: rpart</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Parameters: xval=0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Packages: mlr3, rpart</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Predict Types:  [response], prob</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Feature Types: logical, integer, numeric, factor, ordered</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Properties: importance, missings, multiclass, selected_features,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   twoclass, weights</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># shortcut fselect instance</span></span></span>
<span class="r-in"><span><span class="va">afs</span><span class="op">$</span><span class="va">tuning_instance</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Nested Resampling</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">afs</span> <span class="op">=</span> <span class="fu"><a href="auto_fselector.html">auto_fselector</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="fu"><a href="fs.html">fs</a></span><span class="op">(</span><span class="st">"random_search"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  learner <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrn</a></span><span class="op">(</span><span class="st">"classif.rpart"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  resampling <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span> <span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  measure <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"classif.ce"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  term_evals <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">resampling_outer</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span><span class="op">(</span><span class="st">"cv"</span>, folds <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/resample.html" class="external-link">resample</a></span><span class="op">(</span><span class="va">task</span>, <span class="va">afs</span>, <span class="va">resampling_outer</span>, store_models <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># retrieve inner tuning results.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="extract_inner_fselect_results.html">extract_inner_fselect_results</a></span><span class="op">(</span><span class="va">rr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    iteration bill_depth bill_length body_mass flipper_length island   sex year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:         1       TRUE       FALSE     FALSE           TRUE   TRUE  TRUE TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:         2       TRUE        TRUE      TRUE           TRUE   TRUE FALSE TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:         3       TRUE        TRUE      TRUE           TRUE   TRUE  TRUE TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    classif.ce                                                       features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 0.15789474                      bill_depth,flipper_length,island,sex,year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 0.05263158    bill_depth,bill_length,body_mass,flipper_length,island,year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 0.09090909 bill_depth,bill_length,body_mass,flipper_length,island,sex,...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     task_id              learner_id resampling_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: penguins classif.rpart.fselector            cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: penguins classif.rpart.fselector            cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: penguins classif.rpart.fselector            cv</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># performance scores estimated on the outer resampling</span></span></span>
<span class="r-in"><span><span class="va">rr</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 task  task_id             learner              learner_id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: &lt;TaskClassif[50]&gt; penguins &lt;AutoFSelector[46]&gt; classif.rpart.fselector</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: &lt;TaskClassif[50]&gt; penguins &lt;AutoFSelector[46]&gt; classif.rpart.fselector</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: &lt;TaskClassif[50]&gt; penguins &lt;AutoFSelector[46]&gt; classif.rpart.fselector</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            resampling resampling_id iteration              prediction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: &lt;ResamplingCV[20]&gt;            cv         1 &lt;PredictionClassif[20]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: &lt;ResamplingCV[20]&gt;            cv         2 &lt;PredictionClassif[20]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: &lt;ResamplingCV[20]&gt;            cv         3 &lt;PredictionClassif[20]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    classif.ce</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 0.13043478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 0.06086957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 0.07894737</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># unbiased performance of the final model trained on the full dafsa set</span></span></span>
<span class="r-in"><span><span class="va">rr</span><span class="op">$</span><span class="fu">aggregate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> classif.ce </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09008391 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Marc Becker, Patrick Schratz, Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

